{% extends "bloque.html" %}

{% block title %}Inicio - Mi Página Web{% endblock %}

{% block content %}
   <div class="page-container" style="display: flex; flex-direction: column; height: 100vh;">
      <!-- end header inner -->
      <!-- end header -->
      <div class="top-half" style="flex: 2;">
        <div class="back_re">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="title">
                      <h2>HACE TU RESERVA</h2>
                      <div style="height: 5px;"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
      <!-- blog -->
   <div class="bottom-half" style="background-color: white; flex: 1;">
      <div class="back_re">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="titlepage">
                    <p class="margin_0">COMPLETAR LAS INFORMACIONES</p>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>     

      <!--empieza el formulario-->
      <form action="/submit" method="POST" style="display: grid; grid-template-columns: 1fr fr; gap: 20px;">
         <!-- nombre -->
         <div class="form-group">
         <label for="name">FIRST NAME*：</label>
         <input type="text" id="name" name="name" required>
         </div>
 
         <!-- apellido -->
         <div class="form-group">
         <label for="last name">LAST NAME*：</label>
         <input type="last name " id="last name" name="email" required>
         </div>  
 
         <!-- nacion -->
         <div class="form-group">
         <label for="country">NATIONALITY：</label>
         <select id="country" name="country" required></select>
         </div>
 
         <!-- correo -->
         <div class="form-group">
         <label for="correo">CORREO：</label>
         <textarea id="correo" name="correo" rows="1" cols="30"required></textarea>
         </div>
         <!-- Código de país para teléfono -->
         <class="form-group">
         <label for="country_code">COUNTRY CODE：</label>
            <select id="country_code" name="country_code" required>
               <option value="">Seleccione un código</option>
            <!-- Códigos de país se llenarán aquí -->
            </select>
         <d></d>
         <!-- numero de contacto -->
         <div class="form-group">
            <label for="phone">PHONE NUMBER*：</label>
            <input type="tel" id="phone" name="phone" pattern="^[0-9]{10}$" required placeholder="Ej. 1234567890">
            <div style="grid-column: span 2;text-align: center;justify-content: center">
               <button type="submit" style="padding: 30px 40px;">ENVIAR</button>
            </div>

     </form>
     <script>
      fetch('https://restcountries.com/v3.1/all')
          .then(response => response.json())
          .then(data => {
            data.sort((a, b) => a.name.common.localeCompare(b.name.common));
              const select = document.getElementById('country');
              data.forEach(country => {
                  const option = document.createElement('option');
                  option.value = country.name.common;
                  option.text = country.name.common;
                  select.appendChild(option);
              });
          })
          .catch(error => console.error('paso error：', error));
      </script>
      <script>
   // Cargar códigos de país desde el archivo JSON (para el código de teléfono)
         fetch('/static/codes.json')
          .then(response => response.json())
         .then(data => {
           const select = document.getElementById('country_code');
           data.forEach(country => {
               const option = document.createElement('option');
               option.value = country.dial_code;
               option.text = `${country.name} (${country.dial_code})`;
               select.appendChild(option);
           });
         })
         .catch(error => console.error('Error al cargar el archivo JSON:', error));
      </script>
      <!-- end blog -->
     
      <!--  footer -->
      {% endblock %}	
</html>
